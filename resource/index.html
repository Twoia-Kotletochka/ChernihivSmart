<!DOCTYPE html>
<html>

<head>
  <title>Firebase Example</title>
</head>

<body>
  <h1>Add a message</h1>
  <input type="text" id="messageid">
  <input type="text" id="messageInputName">
  <button onclick="addMessage()">Add</button>

  <h1>Messages</h1>
  <ul id="messageList"></ul>

  <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>

  <script>
    // Конфігурація Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyCt57E8FwSRjKmXDFX88Vbw1XQO8S1Ks2k",
      authDomain: "chesmart-4e30c.firebaseapp.com",
      databaseURL: "https://chesmart-4e30c-default-rtdb.europe-west1.firebasedatabase.app",
      projectId: "chesmart-4e30c",
      storageBucket: "chesmart-4e30c.appspot.com",
      messagingSenderId: "1023454700500",
      appId: "1:1023454700500:web:b2c66aebbf7f7ba01a2c41",
      measurementId: "G-4QZH6ZH18E"
    };

    //Ініціалізація Firebase
    firebase.initializeApp(firebaseConfig);

    //Посилання на кореневий елемент бази даних
    var database = firebase.database();

    function addMessage() {
      var messageid = document.getElementById("messageid").value;
      var messagename = document.getElementById("messageInputName").value;
      database.ref('news/').push().set({
        id: messageid,
        name: messagename
      });
    }

    //Отримання даних з бази даних та звернення їх на web-сторінку
    var messageList = document.getElementById("messageList");
    database.ref('news/').on('value', function (snapshot) {
      messageList.innerHTML = '';
      snapshot.forEach(function (childSnapshot) {
        var message = childSnapshot.val();

        var li = document.createElement("li");
        li.appendChild(document.createTextNode(message.id + " " + message.name));
        messageList.appendChild(li);
      });
    });
  </script>
</body>

</html>